{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import ProductForm from'./ProductForm';import'bootstrap/dist/css/bootstrap.min.css';import Navbar2 from'./Navbar2';import'./admin.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Admin=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedProduct,setSelectedProduct]=useState(null);useEffect(()=>{const fetchProducts=async()=>{try{const response=await axios.get('https://fakestoreapi.com/products');setProducts(response.data);setLoading(false);}catch(error){console.error('Error fetching products:',error);setError('Error fetching products. Please try again later.');setLoading(false);}};fetchProducts();},[]);const addProduct=newProduct=>{setProducts([...products,newProduct]);// You might want to make a POST request to add the product to your backend database\n};const editProduct=productId=>{const productToEdit=products.find(product=>product.id===productId);setSelectedProduct(productToEdit);};const updateProduct=editedProduct=>{setProducts(prevProducts=>prevProducts.map(product=>product.id===editedProduct.id?editedProduct:product));setSelectedProduct(null);// You might want to make a PUT request to update the product in your backend database\n};const deleteProduct=productId=>{setProducts(prevProducts=>prevProducts.filter(product=>product.id!==productId));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar2,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Admin Page\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(ProductForm,{onSubmit:addProduct})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),!loading&&!error&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Product List\"}),/*#__PURE__*/_jsx(\"ul\",{children:products.map(product=>/*#__PURE__*/_jsxs(\"li\",{children:[product.title,\" - $\",product.price,/*#__PURE__*/_jsx(\"button\",{onClick:()=>editProduct(product.id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteProduct(product.id),children:\"Delete\"}),/*#__PURE__*/_jsx(\"hr\",{})]},product.id))})]})]})]})]}),selectedProduct&&/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Product\"}),/*#__PURE__*/_jsx(ProductForm,{onSubmit:updateProduct,productToEdit:selectedProduct})]})]});};export default Admin;","map":{"version":3,"names":["React","useState","useEffect","axios","ProductForm","Navbar2","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Admin","products","setProducts","loading","setLoading","error","setError","selectedProduct","setSelectedProduct","fetchProducts","response","get","data","console","addProduct","newProduct","editProduct","productId","productToEdit","find","product","id","updateProduct","editedProduct","prevProducts","map","deleteProduct","filter","children","className","onSubmit","style","color","title","price","onClick"],"sources":["C:/Users/sohan bodana/Downloads/pr/projects/cartify/src/Component/Admin/Admin.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport ProductForm from './ProductForm';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Navbar2 from './Navbar2';\r\nimport './admin.css';\r\n\r\nconst Admin = () => {\r\n    const [products, setProducts] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [selectedProduct, setSelectedProduct] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchProducts = async () => {\r\n            try {\r\n                const response = await axios.get('https://fakestoreapi.com/products');\r\n                setProducts(response.data);\r\n                setLoading(false);\r\n            } catch (error) {\r\n                console.error('Error fetching products:', error);\r\n                setError('Error fetching products. Please try again later.');\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchProducts();\r\n    }, []);\r\n\r\n    const addProduct = (newProduct) => {\r\n        setProducts([...products, newProduct]);\r\n        // You might want to make a POST request to add the product to your backend database\r\n    };\r\n\r\n    const editProduct = (productId) => {\r\n        const productToEdit = products.find((product) => product.id === productId);\r\n        setSelectedProduct(productToEdit);\r\n    };\r\n\r\n    const updateProduct = (editedProduct) => {\r\n        setProducts((prevProducts) =>\r\n            prevProducts.map((product) => (product.id === editedProduct.id ? editedProduct : product))\r\n        );\r\n        setSelectedProduct(null);\r\n        // You might want to make a PUT request to update the product in your backend database\r\n    };\r\n\r\n    const deleteProduct = (productId) => {\r\n        setProducts((prevProducts) => prevProducts.filter((product) => product.id !== productId));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Navbar2 />\r\n            <div className=\"container mt-4\">\r\n                <h2>Admin Page</h2>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                        <ProductForm onSubmit={addProduct} />\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                        {loading && <p>Loading...</p>}\r\n                        {error && <p style={{ color: 'red' }}>{error}</p>}\r\n                        {!loading && !error && (\r\n                            <div>\r\n                                <h3>Product List</h3>\r\n                                <ul>\r\n                                    {products.map((product) => (\r\n                                        <li key={product.id}>\r\n                                            {product.title} - ${product.price}\r\n                                            <button onClick={() => editProduct(product.id)}>Edit</button>\r\n                                            <button onClick={() => deleteProduct(product.id)}>Delete</button>\r\n                                            <hr/>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {selectedProduct && (\r\n                <div className=\"container mt-4\">\r\n                    <h2>Edit Product</h2>\r\n                    <ProductForm onSubmit={updateProduct} productToEdit={selectedProduct} />\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Admin;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}